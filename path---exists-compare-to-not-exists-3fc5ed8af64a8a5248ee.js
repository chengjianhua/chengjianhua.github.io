webpackJsonp([0xcc74261d9ac8],{536:function(n,a){n.exports={data:{site:{siteMetadata:{title:"Blog - Jianhua Cheng",author:"Jianhua Cheng"}},markdownRemark:{id:"/Users/chengjianhua/Documents/codes/chengjianhua.github.io/src/pages/exists-compareTo-not-exists/index.md absPath of file >>> MarkdownRemark",html:'<h3><strong>原理：</strong>利用<code class="language-text">exists</code>或<code class="language-text">not exists</code>查询时，它是对父句中的每一次循环都执行查询子句来判断当前循环指向的元组是否满足查询子句的结果集不为（为）空，如果满足了的话，就将当前元组输出到父句的结果集中。</h3>\n<!-- more -->\n<h4><code class="language-text">exists</code></h4>\n<div class="gatsby-highlight">\n      <pre class="language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token keyword">where</span> <span class="token keyword">exists</span>\n<span class="token punctuation">(</span>\n\t查询子句<span class="token punctuation">;</span>\n<span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>如果有结果集被返回，则父句中的<code class="language-text">where</code>语句的结果为真，那么输出当前元组到结果集中。</p>\n<h4><code class="language-text">not exists</code></h4>\n<div class="gatsby-highlight">\n      <pre class="language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token keyword">from</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>\n<span class="token keyword">where</span> <span class="token operator">not</span> <span class="token keyword">exists</span>\n<span class="token punctuation">(</span>\n\t查询子句<span class="token punctuation">;</span>\n<span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p>如果子句返回的结果集为空（不存在满足查询子句条件的元组），那么输出当前元组到结果集中，否则不输出。</p>\n<h3>示例</h3>\n<p><em>摘自 leetcode</em></p>\n<hr>\n<p>职员：\n|Id|Name|Salary|DepartmentId|\n|:----|:-----| :-----|:-----|\n| 1 | Joe | 70000 | 1 |\n| 2 | Henry | 80000 | 2 |\n| 3 | Sam | 60000 | 2 |\n| 4 | Max | 90000 | 1 |</p>\n<p>部门：\n| Id | Name |\n| :-----|:-----|\n| 1 | IT |\n| 2 | Sales |</p>\n<p>要求输出每个部门薪水最高的员工的信息，输出格式及结果应为如下：</p>\n<table>\n<thead>\n<tr>\n<th align="left">Department</th>\n<th align="left">Employee</th>\n<th align="left">Salary</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align="left">IT</td>\n<td align="left">Max</td>\n<td align="left">90000</td>\n</tr>\n<tr>\n<td align="left">Sales</td>\n<td align="left">Henry</td>\n<td align="left">80000</td>\n</tr>\n</tbody>\n</table>\n<hr>\n<p>解决方法：</p>\n<div class="gatsby-highlight">\n      <pre class="language-sql"><code class="language-sql"><span class="token keyword">SELECT</span> D<span class="token punctuation">.</span>Name<span class="token punctuation">,</span>A<span class="token punctuation">.</span>Name<span class="token punctuation">,</span>A<span class="token punctuation">.</span>Salary\n<span class="token keyword">FROM</span>\n    Employee A<span class="token punctuation">,</span>\n    Department D\n<span class="token keyword">WHERE</span> A<span class="token punctuation">.</span>DepartmentId <span class="token operator">=</span> D<span class="token punctuation">.</span>Id\n  <span class="token operator">AND</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span>\n  <span class="token punctuation">(</span><span class="token keyword">SELECT</span> <span class="token number">1</span> <span class="token keyword">FROM</span> Employee B <span class="token keyword">WHERE</span> B<span class="token punctuation">.</span>Salary <span class="token operator">></span> A<span class="token punctuation">.</span>Salary <span class="token operator">AND</span> A<span class="token punctuation">.</span>DepartmentId <span class="token operator">=</span> B<span class="token punctuation">.</span>DepartmentId<span class="token punctuation">)</span>\n</code></pre>\n      </div>\n<p><code class="language-text">SELECT 1 FROM Employee B WHERE ...</code>这里为何是<code class="language-text">SELECT 1</code>呢？因为上面说过只判断有没有结果集返回，无论返回的是什么都能用来做判断。</p>',frontmatter:{title:"exists 与 not exists 的概念与用法",date:"March 23, 2016"}}},pathContext:{slug:"/exists-compareTo-not-exists/",previous:{fields:{slug:"/frequently-used-jstl-tags/"},frontmatter:{title:"常用的 JSTL 标签"}},next:{fields:{slug:"/customize-tag-of-jsp/"},frontmatter:{title:"编写定制标签"}}}}}});
//# sourceMappingURL=path---exists-compare-to-not-exists-3fc5ed8af64a8a5248ee.js.map